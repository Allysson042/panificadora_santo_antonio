<h1>Sales Search</h1>

<form action="/search" method="get" class="search">
  <div style="clear:both">
    <label>Customer name or Phone:</label>
    <input type="text" class="form-control" name="name" value="<%params[:name] %>">

    <label>Date of:</label>
    <input type="date" style="width: 180px" class="form-control" name="date_of" value="<%= params[:date_of] %>">

    <label>Date until:</label>
    <input type="date" style="width: 180px" class="form-control" name="date_until" value="<%= params[:date_until] %>">

    <label>Value of:</label>
    <input type="text" placeholder="00.00" style="width: 180px" class="form-control" name="valeu_of" value="<%= params[:value_of] %>">

    <label>Value up to:</label>
    <input type="text"  placeholder="00.00" style="width: 180px" class="form-control" name="value_up_to" value="<%= params[:value_up_to] %>">
    <br>
    <input type="submit" value="Search" class="btn btn-primary">
  </div>
</form>
<hr>
  <h1>Total Amount: R$ <%=@sales_total.sum(:totalValue).round(2)%></h1>
  <h1>Total Sales: <%= @sales_total.count %></h1>
<hr>
<div>
  <h1>List Sales</h1>
</div>
<div class="table-responsive"></div>
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th>Customer</th>
        <th>Totalvalue</th>
        <th>Date time</th>
        <th></th>
        <th></th>
      </tr>
    </thead>



    <tbody>
    <% @sales.each do |sale| %>
      <tr>
        <td><%= sale.customer.name %></td>
        <td><%= sale.totalValue %></td>
        <td><%= sale.date_time %></td>

      </tr>
    <% end %>
    </tbody>
  </table>
  <br>
  <div class="apple_pagination">
    <%=will_paginate @sales,:container => false %>
  </div>
</div>





